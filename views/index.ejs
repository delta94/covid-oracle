<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Covtrack</title>
  <!-- Favicon icon -->
  <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon.png" />
  <!-- Custom Stylesheet -->
  <link rel="stylesheet" href="./css/c-style.css" />
</head>

<body>
  <div id="preloader">
    <div class="sk-three-bounce">
      <div class="sk-child sk-bounce1"></div>
      <div class="sk-child sk-bounce2"></div>
      <div class="sk-child sk-bounce3"></div>
    </div>
  </div>

  <div id="main-wrapper">
    <div class="header">
      <div class="container-fluid">
        <div class="row">
          <div class="col-xl-12">
            <nav class="navbar navbar-expand-lg navbar-light">
              <a class="navbar-brand" href="/"><img src="./images/logo.png" alt="" />
                <span>Covtrack</span></a>
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
                <span class="navbar-toggler-icon"></span>
              </button>

              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav">                 
                  <li class="nav-item dropdown">
                    <span><i class="fas fa-globe-europe"></i></span>
                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">
                      Continent
                    </a>
                    <div class="dropdown-menu">                      
                      <a class="dropdown-item" href="./continent/asia">Asia</a>
                      <a class="dropdown-item" href="./continent/europe">Europe</a>
                      <a class="dropdown-item" href="./continent/africa">Africa</a>                      
                      <a class="dropdown-item" href="./continent/south-america">South America</a>
                      <a class="dropdown-item" href="./continent/north-america">North America</a>
                    </div>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>

    <div class="content-body">
      <div class="container-fluid">
        <div class="row">
          <div class="col-12">
            <div class="mb-3 update-time">
              <span class="stats-taken mr-2">Last Update: </span>
              <strong id="stat-taken" class="text-primary"></strong>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-5 col-lg-12">
            <div class="world-statistics">
              <div class="row align-items-center">
                <div class="col-xl-6 col-lg-6 col-md-6 col">
                  <div class="world-widget">
                    <div class="icon gradient-1">
                      <i class="fas fa-users"></i>
                    </div>
                    <div>
                      <h5>Total Cases</h5>
                      <h2 id="total_cases"></h2>
                    </div>
                  </div>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col">
                  <div class="world-widget">
                    <div class="icon gradient-9">
                      <i class="fas fa-procedures"></i>
                    </div>
                    <div>
                      <h5>Total Death</h5>
                      <h2 id="total_deaths"></h2>
                    </div>
                  </div>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col">
                  <div class="world-widget">
                    <div class="icon gradient-4">
                      <i class="fas fa-child"></i>
                    </div>
                    <div>
                      <h5>Total Recovered</h5>
                      <h2 id="total_recovered"></h2>
                    </div>
                  </div>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col">
                  <div class="world-widget">
                    <div class="icon gradient-3">
                      <i class="fas fa-bell"></i>
                    </div>
                    <div>
                      <h5>Active</h5>
                      <h2 id="total_actived"></h2>
                    </div>
                  </div>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col">
                  <div class="world-widget">
                    <div class="icon gradient-12">
                      <i class="fas fa-bed"></i>
                    </div>
                    <div>
                      <h5>New Cases</h5>
                      <h2 id="new_cases"></h2>
                    </div>
                  </div>
                  <div class="world-widget">
                    <div class="icon gradient-5">
                      <i class="fas fa-medkit"></i>
                    </div>
                    <div>
                      <h5>New Deathes</h5>
                      <h2 id="new_deaths"></h2>
                    </div>
                  </div>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col">
                  <div class="world-chart mt-3">
                    <canvas id="coronaChart"></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-7 col-lg-12">
            <div class="world-map">
              <div class="card">
                <div class="card-body">
                  <div id="vmap"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row justify-content-center text-center">
          <div class="col">
            <div class="google-ads-leaderboard">
              <img src="./images/ads/ads1.jpg" alt="" class="img-fluid" />
              <p>Add you ads here</p>
            </div>
          </div>
        </div>

        <div class="row justify-content-center text-center">
          <div class="col">
            <div class="google-ads-leaderboard">
              <img src="./images/ads/ads2.jpg" alt="" class="img-fluid" />
              <p>Add you ads here</p>
            </div>
          </div>
        </div>

        <div class="row">
          
          <div class="col-xl-12">
            <div class="card">
              <div class="row">
                <div class="card-header col-xl-9">
                  <h4 class="card-title">ALL</h4>
                </div>
                <div class="card-header col-xl-3">
                  <button type="button" class="btn btn-primary">Export data</button>
                </div>   
             
              <div class="card-body">
                <div class="all-country table-responsive">
                  <table id="world_table" class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <th style="width: 30px;">Serial</th>
                        <th>Flag</th>
                        <th style="width: 200px;">Country</th>
                        <th>Cases</th>                      
                        <th>Deaths</th>                        
                        <th>Recovered</th>
                        <th>Active</th>                        
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>

    <div class="footer">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-xl-6 col-md-6">
            <div class="copy_right">
              Copyright Â© 2020 Quixlab. All Rights Reserved.
            </div>
          </div>
          <div class="col-xl-6 col-md-6 text-lg-right text-center">
            <div class="social">
              <a href="https://www.youtube.com/channel/UChN1goECpg64jlUxSzySiNg?view_as=subscriber"><i
                  class="fab fa-youtube"></i></a>
              <a href="https://twitter.com/quixlab"><i class="fab fa-twitter"></i></a>
              <a href="https://www.facebook.com/qxlab"><i class="fab fa-facebook"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--removeIf(production)-->
    <!--**********************************
            Right sidebar start
        ***********************************-->
    <div class="sidebar-right">
      <!-- <a class="sidebar-right-trigger" href="javascript:void(0)">
        <span><i class="fa fa-cog fa-spin"></i></span>
      </a>
      <div class="sidebar-right-inner">
        <div class="admin-settings">
          <div class="opt-header-color">
            <p>Background Color</p>
            <div>
              <span>
                <input type="radio" name="header_bg" value="color_1" class="filled-in chk-col-primary"
                  id="header_color_1" />
                <label for="header_color_1"></label>
              </span>
              <span>
                <input type="radio" name="header_bg" value="color_2" class="filled-in chk-col-primary"
                  id="header_color_2" />
                <label for="header_color_2"></label>
              </span>
              <span>
                <input type="radio" name="header_bg" value="color_3" class="filled-in chk-col-primary"
                  id="header_color_3" />
                <label for="header_color_3"></label>
              </span>
              <span>
                <input type="radio" name="header_bg" value="color_4" class="filled-in chk-col-primary"
                  id="header_color_4" />
                <label for="header_color_4"></label>
              </span>
              <span>
                <input type="radio" name="header_bg" value="color_5" class="filled-in chk-col-primary"
                  id="header_color_5" />
                <label for="header_color_5"></label>
              </span>
              <span>
                <input type="radio" name="header_bg" value="color_6" class="filled-in chk-col-primary"
                  id="header_color_6" />
                <label for="header_color_6"></label>
              </span>
            </div>
          </div>
          <div>
            <p>Direction</p>
            <select class="form-control" name="theme_direction" id="theme_direction">
              <option value="ltr">LTR</option>
              <option value="rtl">RTL</option>
            </select>
          </div>
        </div>
      </div> -->
    </div>
    <!--**********************************
            Right sidebar end
        ***********************************-->
    <!--endRemoveIf(production)-->
  </div>

  <script src="./vendor/jquery/jquery.min.js"></script>
  <script src="./vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="./vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>

  <script src="./vendor/fixed-header-table/jquery.fixedheadertable.min.js"></script>
  <script src="./js/plugins/fixedheadertable-init.js"></script>
  <script src="./vendor/chartjs/Chart.bundle.min.js"></script>

  <script src="./vendor/vectormap/jquery.vmap.min.js"></script>
  <script src="./vendor/vectormap/jquery.vmap.world.js"></script>

  <!-- <script src="./js/world/vectormap-world.js"></script> -->

  <script src="./vendor/datatable/jquery.dataTables.min.js"></script>
  <script src="./js/world/datatable.js"></script>

  <!-- <script src="./js/world/dashboard.js"></script> -->
  <!-- <script src="./js/world/chart.js"></script> -->
  <script src="./js/scripts.js"></script>

  <script src="./js/settings.js"></script>
  <script src="./js/quixnav-init.js"></script>
  <script src="./js/styleSwitcher.js"></script>

  <script>
    $(function () {
      var ctx = document.getElementById('coronaChart').getContext('2d');

      const total_cases = $('h2#total_cases');
      const total_deaths = $('h2#total_deaths');
      const total_recovered = $('h2#total_recovered');
      const total_actived = $('h2#total_actived');
      const new_cases = $('h2#new_cases');
      const new_deaths = $('h2#new_deaths');
      $.ajax({
        type: 'GET',
        url: 'http://localhost:3001/api/all',
        crossDomain: true,
        dataType: 'json',
        success: function (response) {  

          total_cases.append(response[1].CONFIRMED);
          total_deaths.append(response[1].DEATHED);
          total_recovered.append(response[1].RECOVERED);
          total_actived.append(response[1].ACTIVED);
          new_cases.append(response[1].CONFIRMED - response[0].CONFIRMED);
          new_deaths.append(response[1].DEATHED - response[0].DEATHED);
         
          const _0x43a835 = new Chart(ctx, {
            'type': 'pie',
            'options': {
                'responsive': !![],
                'maintainAspectRatio': ![],
                'legend': {
                    'display': !![],
                    'position':'bottom',
                    'labels': {
                        'usePointStyle': !![],
                        'padding': 20
                    }
                },
                'tooltips': {
                    'enabled': !![]
                },
                'hover': {
                    'mode': null
                },
                'cutoutPercentage': 70
            },
            'data': {
                'labels': ['Confirmed','Deathed', 'Recovered'],
                'datasets': [{
                    'data': [response[1].CONFIRMED, response[1].DEATHED, response[1].RECOVERED],
                    'backgroundColor': ['#7B6FFF', '#F5385A', '#2DCE99'],
                    'borderWidth': 0
                }]
            }
        });


        }
      });

    })
  </script>

<script>
  'use strict';
  /** @type {!Array} */
  var _0x1a2a = ["cases", "toUpperCase", "country", '" width="25" class="mr-2 mb-1 " />', "deaths", "#000000",
      "ajax", "each", "vectorMap", "#f00000", "html", "<br/> Cases: ", "recovered", "countryInfo", "iso2",
      "polynomial", "flag", "toLowerCase", "#vmap", "active"
  ];
  (function (data, i) {
      /**
       * @param {number} isLE
       * @return {undefined}
       */
      var write = function (isLE) {
          for (; --isLE;) {
              data["push"](data["shift"]());
          }
      };
      write(++i);
      console.log('_0x1a2a', _0x1a2a)
  })(_0x1a2a, 148);
  /**
   * @param {string} level
   * @param {?} ai_test
   * @return {?}
   */
  var _0x89b3 = function (level, ai_test) {
      /** @type {number} */
      level = level - 0;
      var rowsOfColumns = _0x1a2a[level];
      return rowsOfColumns;
  };
  $(function () {
      // console.log('_0x89b3("0x12")', _0x89b3("0x12"));
      $[_0x89b3("0x12")]({
          "type": "GET",
          "url": "http://localhost:3001/api/countries",
          "dataType": "json",
          "success": function (data) {                    
              let _testValues = [];
              let a = data.forEach((d, i) => {
                  const {
                      ISO2,
                      CASES
                  } = d;
                  _testValues[ISO2.trim().toLowerCase()] = CASES;
                  return;
              })
              // console.log(_testValues);

              $(_0x89b3("0xa"))[_0x89b3("0x0")]({
                  "backgroundColor": null,
                  "hoverOpacity": 0.7,
                  "selectedColor": "#7B6FFF",
                  "values": _testValues,
                  "scaleColors": [_0x89b3("0x1"), _0x89b3("0x11")],
                  "normalizeFunction": _0x89b3("0x7"),
                  "onLabelShow": function (event, label, code) {
                      const vfv = code[_0x89b3("0xd")]();
                      console.log(_0x89b3("0x5"), _0x89b3("0x8"), _0x89b3("0xf"),
                          _0x89b3(
                              "0xc"), _0x89b3("0x3"), _0x89b3("0x2"), _0x89b3(
                              "0xc"), _0x89b3(
                              "0x10"));
                      $["each"](data, function (isSlidingUp,
                          canCreateDiscussions) {
                          const vgg = canCreateDiscussions["ISO2"].trim();
                          if (vfv == vgg) {
                              // console.log('_0x89b3("0x2")', _0x89b3("0x2"))
                              const imgLink = `https://disease.sh/assets/img/flags/${vgg.toLowerCase()}.png`;
                              label[_0x89b3("0x2")](
                                  `<img src="${imgLink}`
                                   + _0x89b3("0xf") +
                                  canCreateDiscussions['COUNTRY'] + "<br/> Cases:" +
                                  canCreateDiscussions['CASES'] +
                                  "<br/> Death: " +
                                  canCreateDiscussions['DEATHS'] +
                                  "<br/> Active: " +
                                  canCreateDiscussions['ACTIVED'] +
                                  "<br/> Recovered " +
                                  canCreateDiscussions['RECOVERED']
                              );
                          }
                      });
                  }
              });
          }
      });
  });
</script>



</body>

</html>